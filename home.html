<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="home.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
</head>
<body>
   <!-- Navbar -->
  <header class="navbar">
    <div class="logo">DUROH</div>
    <nav>
      <ul class="nav-items">
        <li class="nav-item">
          <button class="nav-link" id="homeBtn">
            <span class="material-symbols-outlined">home</span> Home
          </button>
        </li>
        <li class="nav-item">
          <button class="nav-link" id="inboxBtn">
            <span class="material-symbols-outlined">inbox</span> Inbox
          </button>
        </li>
        <li class="nav-item">
            <button class="nav-link" id="uploadBtn">
            <span class="material-symbols-outlined">upload</span> Upload
          </button>
        </li>
        <li class="nav-item">
          <button class="nav-link" id="profileBtn">
            <span class="material-symbols-outlined">person</span> Profile
          </button>
        </li>
      </ul>
    </nav>
     <!-- Paste profile pic here -->
  <div class="profile-header">
    <div id="profile-pic">
      <img id="profile-pic-img" src="https://via.placeholder.com/70?text=+" alt="Profile Picture">
    </div>
  </div>
    </div>
  </header>

  <main>
    <div class="qui"></div>
    <div class="scroll">
        <button id="up"><span class="material-symbols-outlined upp">keyboard_arrow_up</span></button>
        <button id="down"><span class="material-symbols-outlined">keyboard_arrow_down</span></button>
    </div>
  </main>
   <script>
    // Navbar navigation
    window.onload = function() {
  const inboxBtn = document.getElementById('inboxBtn');
  const uploadBtn = document.getElementById('uploadBtn');
  const profileBtn = document.getElementById('profileBtn');

  inboxBtn.addEventListener('click', () => window.location.href = 'inbox.html');
  uploadBtn.addEventListener('click', () => window.location.href = 'upload.html');
  profileBtn.addEventListener('click', () => window.location.href = 'profile.html');
};

const qui = document.querySelector('.qui');
const upBtn = document.getElementById('up');
const downBtn = document.getElementById('down');

// Load videos from localStorage (simulate Cloudinary)
let videos = JSON.parse(localStorage.getItem('uploadedVideos')) || [];
let currentIndex = 0;

function renderSlide(index) {
  if (!videos.length) {
    qui.innerHTML = '<p>No videos uploaded yet.</p>';
    return;
  }

  const { url, caption } = videos[index];
  qui.innerHTML = ''; // Clear previous slide

  const slide = document.createElement('div');
  slide.className = 'slide';

  const videoEl = document.createElement('video');
  videoEl.src = url;
  videoEl.autoplay = true;
  videoEl.loop = true;
  videoEl.playsInline = true;
  videoEl.muted = false; // required for autoplay in modern browsers
  videoEl.volume = 1;
  videoEl.style.width = '100%';
  videoEl.style.height = '100%';
  videoEl.style.objectFit = 'cover';

  // Click to toggle sound & pause/play
  videoEl.addEventListener('click', () => {
    if (videoEl.paused) {
      videoEl.muted = false; // enable sound on click
      videoEl.play();
    } else videoEl.pause();
  });

  slide.appendChild(videoEl);

  if (caption) {
    const captionEl = document.createElement('p');
    captionEl.className = 'caption-overlay';
    captionEl.innerText = caption;
    slide.appendChild(captionEl);
  }

  qui.appendChild(slide);
}

// Initial render
if (videos.length > 0) renderSlide(currentIndex);

// Scroll navigation
upBtn.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + videos.length) % videos.length;
  renderSlide(currentIndex);
});

downBtn.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % videos.length;
  renderSlide(currentIndex);
});


  </script>
</body>
</html>
